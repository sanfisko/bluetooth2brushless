# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ HID –¥–∞–Ω–Ω—ã—Ö –æ—Ç BT13

## üêõ –ü—Ä–æ–±–ª–µ–º–∞
ESP32 —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–∞–ª—Å—è –∫ –ø—É–ª—å—Ç—É BT13 –∏ –ø–æ–ª—É—á–∞–ª HID —Å–æ–±—ã—Ç–∏—è, –Ω–æ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª –∫–æ–º–∞–Ω–¥—ã –∫–Ω–æ–ø–æ–∫. –ú–æ—Ç–æ—Ä –æ—Å—Ç–∞–≤–∞–ª—Å—è –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–æ–∫ –Ω–∞ –ø—É–ª—å—Ç–µ.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ
–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ HID –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `hid_host_cb()` –¥–ª—è —Å–æ–±—ã—Ç–∏—è `INPUT_EVENT` (case 2).

### –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:
1. **–ü–∞—Ä—Å–∏–Ω–≥ HID –¥–∞–Ω–Ω—ã—Ö**: –î–æ–±–∞–≤–ª–µ–Ω–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ HID Usage –∫–æ–¥–æ–≤ –∏–∑ –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ BT13
3. **–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**: –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—ã—Ä—ã—Ö HID –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–æ–º–∞–Ω–¥—ã BT13:
| HID Usage | –ö–Ω–æ–ø–∫–∞ | –î–µ–π—Å—Ç–≤–∏–µ |
|-----------|--------|----------|
| `0x00B5` | Next Song (–∫–æ—Ä–æ—Ç–∫–æ–µ +) | –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –Ω–∞ 1 |
| `0x00B6` | Previous Song (–∫–æ—Ä–æ—Ç–∫–æ–µ -) | –£–º–µ–Ω—å—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –Ω–∞ 1 |
| `0x00E9` | Volume Up (–¥–ª–∏–Ω–Ω–æ–µ +) | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –≤–ø–µ—Ä–µ–¥ |
| `0x00EA` | Volume Down (–¥–ª–∏–Ω–Ω–æ–µ -) | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –Ω–∞–∑–∞–¥ |
| `0x00CD` | Play/Pause (—Å—Ä–µ–¥–Ω—è—è –∫–Ω–æ–ø–∫–∞) | –ü–æ–ª–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ—Ç–æ—Ä–∞ |

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

1. **–°–±–æ—Ä–∫–∞ –∏ –ø—Ä–æ—à–∏–≤–∫–∞**:
   ```bash
   cd esp-idf-version
   idf.py build flash
   ```

2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**:
   ```bash
   idf.py monitor
   ```

3. **–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ**:
   - –ü—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ BT13: `BT13 –ø–æ–¥–∫–ª—é—á–µ–Ω —É—Å–ø–µ—à–Ω–æ!`
   - –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–æ–∫: –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ HID –¥–∞–Ω–Ω—ã—Ö –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥
   - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–æ—Ç–æ—Ä–∞: `–°–æ—Å—Ç–æ—è–Ω–∏–µ: –í–ö–õ | –£—Ä–æ–≤–µ–Ω—å: X/10 | PWM: XXX/255`

## üìù –ü—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
I (106173) BT13_MOTOR_CONTROL: –ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –æ—Ç BT13
I (106173) BT13_MOTOR_CONTROL: HID –¥–∞–Ω–Ω—ã–µ (3 –±–∞–π—Ç):
01 B5 00 
I (106173) BT13_MOTOR_CONTROL: HID Usage: 0x00B5
I (106173) BT13_MOTOR_CONTROL: –ö–æ–º–∞–Ω–¥–∞: –ö–æ—Ä–æ—Ç–∫–æ–µ + (—É–≤–µ–ª–∏—á–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è)
I (106173) BT13_MOTOR_CONTROL: –ö–æ—Ä–æ—Ç–∫–æ–µ +: –£—Ä–æ–≤–µ–Ω—å —Å–∫–æ—Ä–æ—Å—Ç–∏ = 1
I (106173) BT13_MOTOR_CONTROL: –°–æ—Å—Ç–æ—è–Ω–∏–µ: –í–ö–õ | –£—Ä–æ–≤–µ–Ω—å: 1/10 | PWM: 25/255 | –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –í–ü–ï–†–ï–î
```

## üîç –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **–§–æ—Ä–º–∞—Ç HID –¥–∞–Ω–Ω—ã—Ö**: `[Usage Low] [Usage High]`
- **–ü–∞—Ä—Å–∏–Ω–≥ Usage**: `uint16_t usage = (data[1] << 8) | data[0]`
- **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–∂–∞—Ç–∏—è**: `bool pressed = (usage != 0)`

## ‚ú® –†–µ–∑—É–ª—å—Ç–∞—Ç
–¢–µ–ø–µ—Ä—å ESP32 –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω —Å –ø—É–ª—å—Ç–æ–º BT13:
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ BT13
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ HID –¥–∞–Ω–Ω—ã—Ö  
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –∫–Ω–æ–ø–æ–∫
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ—Ç–æ—Ä–æ–º
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**: 2025-06-09  
**–°—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é ‚úÖ