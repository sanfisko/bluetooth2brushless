# Обновление отображения статуса мотора

## Что изменено

Вместо сообщения "Получены данные от BT13" теперь выводится информация о текущем состоянии мотора.

## Изменения в коде

### 1. Добавлена новая функция `print_motor_status()`

```c
static void print_motor_status(void)
{
    if (!motor_enabled || speed_level == 0) {
        ESP_LOGI(TAG, "Остановлен");
    } else {
        int percentage = (abs(speed_level) * 100) / max_speed_level;
        const char* direction = (speed_level > 0) ? "вперед" : "назад";
        ESP_LOGI(TAG, "Работает %s на %d%%", direction, percentage);
    }
}
```

### 2. Убрано сообщение "Получены данные от BT13"

Строка `ESP_LOGI(TAG, "Получены данные от BT13");` удалена из обработчика HID событий.

### 3. Добавлен вызов статуса после каждой команды

После обработки каждой команды от пульта BT13 теперь вызывается `print_motor_status()`.

## Примеры нового вывода

### Было (неинформативно):
```
I (15660) BT13_MOTOR_CONTROL: Получены данные от BT13
I (15670) BT13_MOTOR_CONTROL: HID данные (2 байт):
04 00 
I (18990) BT13_MOTOR_CONTROL: Получены данные от BT13
I (19000) BT13_MOTOR_CONTROL: HID данные (2 байт):
08 00 
```

### Стало (информативно):
```
I (15660) BT13_MOTOR_CONTROL: HID данные (2 байт):
04 00 
I (15670) BT13_MOTOR_CONTROL: Команда: Короткое + (увеличение уровня)
I (15680) BT13_MOTOR_CONTROL: Работает вперед на 10%

I (18990) BT13_MOTOR_CONTROL: HID данные (2 байт):
08 00 
I (19000) BT13_MOTOR_CONTROL: Команда: Короткое + (увеличение уровня)
I (19010) BT13_MOTOR_CONTROL: Работает вперед на 20%

I (22690) BT13_MOTOR_CONTROL: HID данные (2 байт):
10 00 
I (22700) BT13_MOTOR_CONTROL: Команда: СТОП
I (22710) BT13_MOTOR_CONTROL: Остановлен

I (31660) BT13_MOTOR_CONTROL: HID данные (2 байт):
01 00 
I (31670) BT13_MOTOR_CONTROL: Команда: Короткое - (уменьшение уровня)
I (31680) BT13_MOTOR_CONTROL: Работает назад на 10%

I (35520) BT13_MOTOR_CONTROL: HID данные (2 байт):
02 00 
I (35530) BT13_MOTOR_CONTROL: Команда: Длинное - (максимум назад)
I (35540) BT13_MOTOR_CONTROL: Работает назад на 100%
```

## Возможные варианты вывода

- `Остановлен` - когда мотор выключен или скорость = 0
- `Работает вперед на 10%` - при положительной скорости
- `Работает назад на 30%` - при отрицательной скорости
- `Работает вперед на 100%` - при максимальной скорости

## Как применить изменения

1. Файл `main/main.c` уже обновлен
2. Скомпилируйте и прошейте проект:
   ```bash
   cd esp-idf-version
   idf.py build
   idf.py -p /dev/ttyUSB0 flash monitor
   ```

## Результат

Теперь при нажатии кнопок на пульте BT13 вы будете видеть понятную информацию о состоянии мотора вместо технического сообщения о получении данных.